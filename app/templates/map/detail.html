{% extends 'base.html' %}
{% import 'map/macros.html' as macros %}

{% block title %}{% block header %}マップ詳細{% endblock %}{% endblock %}
{% block head %}
  <script src="{{ url_for('static', filename='openlayers-v6.9.0/ol.js') }}"></script>
  <link rel="stylesheet" href="{{ url_for('static', filename='openlayers-v6.9.0/ol.css') }}">
  <style type="text/css">
div.region {
  position: absolute;
  border: 1px solid #333;
  color: rgba(255,0,0,0.5);
  background-color: rgba(255,0,0,0.5);
}
#map {
  height: 600px;
  width: min(100%, 800px);
  border: 1px #333 solid;
}
  </style>
{% endblock %}

{% block body %}
  <section>
    <p>
      <span>マップ名:</span>
      <span>{{ map.name }}</span>
    </p>
    <p>
      <span>画像URL:</span>
      <span><a href="{{ map.image_url }}">{{ map.image_url }}</a></span>
    </p>
    {{ macros.map_with_region(map_regions, map.image_url) }}
  </section>
  <section>
    <h2>マップデータの作成</h2>
    <p><a href="{{ url_for('controllers.map_edit_region', map_id=map.id, event_id=event.id) }}">矩形データの編集</a></p>
    <p><a href="{{ url_for('controllers.map_edit_mapping', map_id=map.id, event_id=event.id) }}">矩形データからスペースへのマッピング</a></p>
    <p><a href="show_mapping.html">マッピング結果確認</a></p>
  </section>
{% endblock %}
